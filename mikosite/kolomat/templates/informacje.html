{% load static %}

<!DOCTYPE html>
<html lang="pl">
<head>
    <title>Title</title>
    <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="{% static 'informacje.css' %}">
    <script defer src="{% static 'informacje.js' %}"></script>

    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />

</head>
<body>

        {% include "header.html" %}


      <div class="introduction">
        <h1>Informacje</h1>
        <h3>
            MIKO to społeczność osób zainteresowanych nauką matematyki i nauk pochodnych. Społeczność organizuje kilka interesujących aktywności:
        </h3>
          <ul class="levels">
            <li style="list-style-type: disc; text-align: left;">
                <h3><strong>Kółko przygotowujące do II etapu OM:</strong> Cotygodniowe zajęcia, na których przerabiane są techniki przydatne przy rozwiązywaniu zadań z II etapu OM. Odbywają się one na discordzie i prowadzone są przez doświadczonych olimpijczyków. Trwają około 1.5 h.
                Przykładowe tematy zajęć:<br>
                Potęga punktu, Podwójne Zliczanie, Rozwiązywanie układów równań
                </h3>
            </li>
            <li style="list-style-type: disc; text-align: left;">
                <h3><strong>Kółko przygotowujące do finału i olimpiad międzynarodowych:</strong>
                Cotygodniowe zajęcia, na których przerabiane są techniki przydatne przy rozwiązywaniu zadań z finału OM i olimpiad międzynarodowych (IMO, MEMO, EGMO, BW). Przygotowywane są przez uczestników w kółka. Jeden uczestnik prowadzi kółko średnio raz na 3 miesiące. Trwają około 2 h.
                Przykładowe tematy:
                metoda Moving Points, Viete’a jumping, mnożniki Lagrange’a
                </h3>
            </li>
            <li style="list-style-type: disc; text-align: left;">
                <h3><strong>Kółko przygotowujące do olimpiady AI:</strong> Cotygodniowe zajęcia, na których przerabiane są techniki przydatne przy rozwiązywaniu zadań z olimpiady AI. Odbywają się one na discordzie i prowadzone są przez doświadczonych olimpijczyków. Do pełnego zrozumienia treści kółka potrzebna jest wiedza o działaniu prostych sieci neuronowych (SGD, backpropagation, funkcja kosztu), o CNN-ach oraz podstawy matematyczne. Trwają około 1.5 h.
                Przykładowe tematy: <br>
                RNN, Object Tracking, Prompt Engineering
                </h3>
            </li>
            <li style="list-style-type: disc; text-align: left;">
                <h3><strong>Giełda kierunków:</strong>
                Raz w roku, organizujemy konferencje on-line na której studenci różnych w Polsce i zagranicą opowiadają o swoich kierunkach studiów. Jest również możliwość zadania pytań.
                Przykładowe kierunki:
                JSIM na UW, Matematyka na UJ, Informatyka na PW
                </h3>
            </li>
            <li style="list-style-type: disc; text-align: left;">
                <h3>Próbne zestawy zadaniowe przypominające trudnością <strong>II</strong> i <strong>III</strong> etapy OM oraz ich omówienie.</h3>
            </li>
          </ul>
          <h3>
              Ważną częścią naszej społeczności jest możliwość prowadzenia dyskusji i wzajemnej pracy nad zadaniami na chatach na discordzie, oraz zbierane na nich materiały. W razie pytań zapraszamy na <a href="https://discord.gg/nA8CjrPqGM" style="text-decoration: underline dashed;">Discorda</a>, w szczególności do osób z rangą <a style="color: #c22259;font-weight: bold">@Organizator</a>.
          </h3>

    </div>
</div>


   <div class="calendar">
    <div class="header">
        <button id="prevMonth">◀</button>
        <h2 id="currentMonth"></h2>
        <button id="nextMonth">▶</button>
    </div>
       <button id="showCurrentMonth" style="width: auto; margin: auto; margin-bottom: 5px; margin-top: 5px; border: 2px solid #F24535;border-radius: 10px; background-color: transparent; color: #F24535; cursor: pointer"><h2 style="color: var(--r1); padding-left: 10px; padding-right: 10px">Dziś</h2> </button>
    <div class="days" id="calendarDays"></div>
</div>

    <div id="eventPopup" class="event-popup">
        <div class="popup-content">
            <span class="close-btn">&times;</span>
            <h3 id="popupDate"></h3>
            <ul id="eventList"></ul>
        </div>
    </div>

     {% include "footer.html" %}


    <script>
document.addEventListener('DOMContentLoaded', function() {
    {% for kolo in kolka %}
    try {
        const eventDate = new Date("{{ kolo.date|date:'Y-m-d' }}");
        if (isNaN(eventDate.getTime())) {
            throw new Error("Invalid date");
        }

        const eventTime = new Date("{{ kolo.date|date:'Y-m-d' }}T{{ kolo.time|time:'H:i' }}");
        if (isNaN(eventTime.getTime())) {
            throw new Error("Invalid time");
        }

        const durationSeconds = parseInt("{{ kolo.duration.total_seconds }}");
        if (isNaN(durationSeconds)) {
            throw new Error("Invalid duration");
        }

        const tutors = [{% for tutor in kolo.tutors.all %}"{{ tutor.username }}"{% if not forloop.last %}, {% endif %}{% endfor %}];


        const theme = "{{ kolo.theme|escapejs }}";
        if (!theme) {
            throw new Error("Invalid theme");
        }

        const description = "{{ kolo.description|escapejs }}";
        // Description can be empty, so we don't throw an error if it's missing

        const image = "{{ kolo.image }}";
        // Image can be empty, so we don't throw an error if it's missing

        const file = "{{ kolo.file }}";
        // File can be empty, so we don't throw an error if it's missing

        const level = {{ kolo.level|default_if_none:"null" }};
        if (level !== null && (isNaN(level) || level < 0 || level > 3)) {
            throw new Error("Invalid level");
        }

        const finished = {{ kolo.finished|yesno:"true,false" }};
        if (typeof finished !== 'boolean') {
            throw new Error("Invalid finished status");
        }

        addEvent({
            date: eventDate,
            time: eventTime,
            duration: {
                hours: Math.floor(durationSeconds / 3600),
                minutes: Math.floor((durationSeconds % 3600) / 60)
            },
            tutors: tutors,
            theme: theme,
            description: description,
            image: image,
            file: file,
            level: level,
            finished: finished
        });
    } catch (error) {
        console.warn(`Event skipped: ${error.message}`);
    }
    {% endfor %}
    updateCalendar();
});
</script>
</body>
</html>
