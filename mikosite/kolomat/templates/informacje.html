{% load static %}

<!DOCTYPE html>
<html lang="pl">
<head>
    <title>Koło matematyczne</title>
    <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="{% static 'informacje.css' %}">
    <script defer src="{% static 'informacje.js' %}"></script>

    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />

</head>
<body>

        {% include "header.html" %}


      <div class="introduction">
        <h1 class="mobile-left-padding">Informacje</h1>
        <h3 style="font-weight: 450" class="mobile-left-padding">
            Do udziału w Matematycznym Internetowym Kole Olimpijskim zapraszamy wszystkich zainteresowanych nauką
            matematyki i nauk pokrewnych. Zajęcia podzielone są na grupy o zróżnicowanym poziomie i różnorodnej tematyce:
        </h3>
        <div class="levels" style="margin-top: 30px;">
            <div class="column">
                <h2><strong>Kółko przygotowujące do II etapu OM</strong></h2>
                <hr>
                <h3>Na cotygodniowych spotkaniach przerabiane są
                    najbardziej przydatne techniki, które pomogą Ci samodzielnie rozwiązywać zadania na poziomie II etapu
                    Olimpiady Matematycznej. Zajęcia prowadzone są przez doświadczonych olimpijczyków.</h3>
                <h3>Przykładowe tematy: potęga punktu, podwójne zliczanie, układy równań.</h3>
                <h3>Czas trwania: około 1,5 h.</h3>
            </div>
            <div class="column">
                <h2><strong>Kółko przygotowujące do finału i olimpiad międzynarodowych</strong></h2>
                <hr>    
                <h3>Przeznaczone jest dla doświadczonych olimpijczyków zainteresowanych zaawansowanymi technikami rozwiązywania
                    zadań. Zajęcia w tej grupie prowadzą uczestnicy koła, a tematy nierzadko inspirowane są najtrudniejszymi
                    zadaniami z olimpiad i zawodów międzynarodowych. </h3>
                    <h3>Przykładowe tematy: metoda moving points, Viete’a jumping, mnożniki Lagrange’a.</h3>
                    <h3>Czas trwania: około 2 h.</h3>
            </div>
            <div class="column">
                <h2><strong>Kółko przygotowujące do olimpiady AI</strong></h2>
                <hr>
                <h3> To cotygodniowe zajęcia kierowane do osób
                zainteresowanych Olimpiadą Sztucznej Inteligencji. Zajęcia mają charakter bardziej eksperymentalny i projektowy.
                Do pełnego zrozumienia przerabianych treści potrzebna jest wiedza o działaniu prostych sieci neuronowych
                oraz podstawy matematyczne.</h3>
                <h3>Przykładowe tematy: RNN, object tracking, prompt engineering.</h3>
                <h3> Czas trwania: około 1,5 h.</h3>
            </div>
        </div>
        <h3 style="font-weight: 450; margin-top: 50px;" class="mobile-left-padding">Wszystkie zajęcia odbywają się zdalnie na platformie Discord. Ważną częścią naszej społeczności jest możliwość prowadzenia dyskusji i wspólnej pracy nad zadaniami na chatach. Dołączając do naszego serwera na Discordzie uzyskasz także:</h3>
        <div class="levels">
            <div class="column">
                <h2><strong>Materiały</strong></h2>
                <hr>
                <h3>
                Różnorodne materiały zgromadzone przez bardziej doświadczonych olimpijczyków oraz próbne zestawy zadań
                    przypominające trudnością II i III etapy Olimpiady Matematycznej wraz z omówieniami.</h3>
                </h3>
            </div>
            <div class="column">  
                <h2><strong>Konferencje</strong></h2>
                <hr>
                <h3>Możliwość udziału w konferencjach. Raz w roku organizujemy Giełdę Kierunków, konferencję online,
                    na której studenci różnych uczelni, polskich i zagranicznych, opowiadają o swoich doświadczeniach
                    podczas studiów. Nie przegap tego wydarzenia, jeśli interesują Cię takie kierunki jak JSIM na Uniwersytecie
                    Warszawskim, matematyka lub TCS na Uniwersytecie Jagiellońskim, informatyka na Politechnice Warszawskiej
                    czy matematyka na University of Cambridge.</h3>
            </div>
        </div>


        <h1 style="margin-top: 50px;" class="mobile-left-padding">Kalendarz zajęć</h1>
        <h3 style="font-weight: 450; margin-bottom: 30px;" class="mobile-left-padding">Poniżej znajdują się nadchodzące kółka i inne wydarzenia organizowane przez MIKO.</h3>
    </div>
</div>


   <div class="calendar">
    <div class="header">
        <button id="prevMonth">◀</button>
        <h2 id="currentMonth"></h2>
        <button id="nextMonth">▶</button>
    </div>
       <button id="showCurrentMonth" style="width: auto; margin: auto; margin-bottom: 5px; margin-top: 5px; border: 2px solid #F24535;border-radius: 10px; background-color: transparent; color: #F24535; cursor: pointer"><h2 style="color: var(--r1); padding-left: 10px; padding-right: 10px">Dziś</h2> </button>
    <div class="days" id="calendarDays"></div>
</div>

    <div id="eventPopup" class="event-popup">
        <div class="popup-content">
            <span class="close-btn">&times;</span>
            <h3 id="popupDate"></h3>
            <ul id="eventList"></ul>
        </div>
    </div>

     {% include "footer.html" %}


    <script>
document.addEventListener('DOMContentLoaded', function() {
    {% for kolo in kolka %}
    try {
        const eventDate = new Date("{{ kolo.date|date:'Y-m-d' }}");
        if (isNaN(eventDate.getTime())) {
            throw new Error("Invalid date");
        }

        const eventTime = new Date("{{ kolo.date|date:'Y-m-d' }}T{{ kolo.time|time:'H:i' }}");
        if (isNaN(eventTime.getTime())) {
            throw new Error("Invalid time");
        }

        const durationSeconds = parseInt("{{ kolo.duration.total_seconds }}");
        if (isNaN(durationSeconds)) {
            throw new Error("Invalid duration");
        }

        const tutors = [{% for tutor in kolo.tutors.all %}"{{ tutor.username }}"{% if not forloop.last %}, {% endif %}{% endfor %}];


        const theme = "{{ kolo.theme|escapejs }}";
        if (!theme) {
            throw new Error("Invalid theme");
        }

        const description = "{{ kolo.description|escapejs }}";
        // Description can be empty, so we don't throw an error if it's missing

        const image = "{{ kolo.image }}";
        // Image can be empty, so we don't throw an error if it's missing

        const file = "{{ kolo.file }}";
        // File can be empty, so we don't throw an error if it's missing

        const level = {{ kolo.level|default_if_none:"null" }};
        if (level !== null && (isNaN(level) || level < 0 || level > 3)) {
            throw new Error("Invalid level");
        }

        const finished = {{ kolo.finished|yesno:"true,false" }};
        if (typeof finished !== 'boolean') {
            throw new Error("Invalid finished status");
        }

        addEvent({
            date: eventDate,
            time: eventTime,
            duration: {
                hours: Math.floor(durationSeconds / 3600),
                minutes: Math.floor((durationSeconds % 3600) / 60)
            },
            tutors: tutors,
            theme: theme,
            description: description,
            image: image,
            file: file,
            level: level,
            finished: finished
        });
    } catch (error) {
        console.warn(`Event skipped: ${error.message}`);
    }
    {% endfor %}
    updateCalendar();
});
</script>
</body>
</html>
